#pragma version 8
intcblock 0 1 4 6
bytecblock 0x
txn NumAppArgs
intc_0 // 0
==
bnz main_l8
txna ApplicationArgs 0
pushbytes 0x83412591 // "clean()void"
==
bnz main_l7
txna ApplicationArgs 0
pushbytes 0x06c20e30 // "update_game(application)void"
==
bnz main_l6
txna ApplicationArgs 0
pushbytes 0x67ff9e95 // "create_game(uint64,uint64,uint64,uint64,uint64,byte[])void"
==
bnz main_l5
err
main_l5:
txn OnCompletion
intc_0 // NoOp
==
txn ApplicationID
intc_0 // 0
!=
&&
assert
callsub creategamecaster_16
intc_1 // 1
return
main_l6:
txn OnCompletion
intc_0 // NoOp
==
txn ApplicationID
intc_0 // 0
!=
&&
assert
callsub updategamecaster_15
intc_1 // 1
return
main_l7:
txn OnCompletion
intc_0 // NoOp
==
txn ApplicationID
intc_0 // 0
!=
&&
assert
callsub cleancaster_14
intc_1 // 1
return
main_l8:
txn OnCompletion
intc_0 // NoOp
==
bnz main_l12
txn OnCompletion
intc_2 // UpdateApplication
==
bnz main_l11
err
main_l11:
txn ApplicationID
intc_0 // 0
!=
assert
callsub update_10
intc_1 // 1
return
main_l12:
txn ApplicationID
intc_0 // 0
==
assert
intc_1 // 1
return

// create_application
createapplication_0:
proto 8 0
itxn_begin
intc_3 // appl
itxn_field TypeEnum
intc_0 // NoOp
itxn_field OnCompletion
frame_dig -8
itxn_field ApprovalProgram
frame_dig -7
itxn_field ClearStateProgram
frame_dig -6
itxn_field GlobalNumUint
frame_dig -5
itxn_field GlobalNumByteSlice
frame_dig -4
itxn_field LocalNumUint
frame_dig -3
itxn_field LocalNumByteSlice
frame_dig -2
itxn_field ExtraProgramPages
frame_dig -1
itxn_field Fee
itxn_submit
retsub

// update_application
updateapplication_1:
proto 4 0
itxn_begin
intc_3 // appl
itxn_field TypeEnum
intc_2 // UpdateApplication
itxn_field OnCompletion
frame_dig -4
itxn_field ApplicationID
frame_dig -3
itxn_field ApprovalProgram
frame_dig -2
itxn_field ClearStateProgram
frame_dig -1
itxn_field Fee
itxn_submit
retsub

// execute_payment
executepayment_2:
proto 3 0
itxn_begin
intc_1 // pay
itxn_field TypeEnum
frame_dig -3
itxn_field Receiver
frame_dig -2
itxn_field Amount
frame_dig -1
itxn_field Fee
itxn_submit
retsub

// assert_is_creator
assertiscreator_3:
proto 0 0
txn Sender
global CreatorAddress
==
assert
retsub

// assert_is_valid_length
assertisvalidlength_4:
proto 2 0
frame_dig -2
len
frame_dig -1
==
assert
retsub

// assert_is_future
assertisfuture_5:
proto 1 0
frame_dig -1
global LatestTimestamp
>
assert
retsub

// game_approval_program
gameapprovalprogram_6:
proto 0 1
bytec_0 // ""
dup
intc_0 // 0
dupn 4
bytec_0 // ""
intc_0 // 0
dupn 6
bytec_0 // ""
pushbytes 0x08200400200108260302303102303200311b22124000fd361a00800483412591124000e1361a008004df7130ca124000c5361a0080043b917ca1124000a9361a0080049b7c8a2e1240008d361a008004b3d1502912400071361a0080048e4bf49512400055361a0080041ff5d9c012400039361a008004d30991b51240001d361a00800442a2a81412400001003119221231182213104488056024433119221231182213104488054224433119221231182213104488052324433119221231182213104488050d2443311922123118221310448804e32443311922123118221310448804af2443311922123118221310448804902443311922123118221310448804372443311922123118221310448804212443311922124000243119241240001331198104124000010031182213448801d2244331182213448801be244331182212448801a824438a0300b124b2108bfdb2078bfeb2088bffb201b3898a01008bff8178af67898a02008bfe8bff8178af66898a03018bfd648bfe8bff58898a04018bfc8bfd628bfe8bff58898a03018bfd8bfe8bff88ffda17898a04018bfc8bfd8bfe8bff88ffd617898a04008bfc8bff8800968bfd8bfd228bfe88ffb48bfc508bfd8bfe8bff0881788bfe8bff080988ff9f5067898a05008bfc8bff88006a8bfb8bfd8bfb8bfd228bfe88ff908bfc508bfb8bfd8bfe8bff0881788bfe8bff080988ff795066898a04008bfc8bff8800208bfd8bfe8bff88ff8f898a05008bfb8bfc8bff88000a8bfd8bfe8bff88ffa5898a02018bfe16258bff098bff58898a0000310032091244898a02008bfe158bff1244898a01008bff32070d44898a01008bff32070c44898a0000320d221244898a0000310028222388fef51244898a0000310028222388fee712310028232388fede121144898a00002981602588feea88ffb0898a00002981602588fedc88ffac898a0100298168810288fecd8bff1244898a02008bff220d41001e8bfe28222588fec4220d448bfe2881702588feaa8bff0b81640a2288fe5b898a00002888fe682988fe64898a000031002888fe64898a000088ff37898a000088ff6228222388fe5c320a60320a78092288fe26898a080088ff188bf828222388fe7a8bf928232388fe728bfa2981602588fec78bfb29816a810288febd8bfc29816c810288feb38bfd29816e810288fea98bfe298170810288fe9f8bff5702002881402388fe35898a010088ff1c88feea8bff220d4431162408380031001244311624083810241244311624083807320a12443116240838088bff1244310028232388fdbf1240001a2881602588fdce8bff81040b81640a082881602588fe3a4200172881682588fdb48bff81040b81640a082881682588fe202881682588fd9d8bff29816a810288fd930b81640a082881682588fe032881702588fd808bff082881702588fdf23100310028222588fd7a8bff0828222588fdf3898a030088fe5088fe732288fe7d8bfdc01c29816c810288fd4988fe7e8bfec01c29816e810288fd3a88fe6f8bffc01c298170810288fd2b88fe608bfdc01c29222388fd3c8bfec01c29232388fd328bffc01c2981402388fd2724298168810288fd7c898a020088fded88fe102488fe1a8bfec01c28222388fcce12448bffc01c28232388fcc2124428222388fcba2881602588fccd2288fc8428232388fca92881682588fcbc2288fc738102298168810288fd2a898a000088fd8d810288fdca8103298168810288fd14898a010088fd8588fd9a8bff88fd528bff2981602588fcfc898a010088fd6d88fd828bff5702002388fd2b8bff5702002881402388fc7f898a000024438a000088fdd3898a00002a492247042a361a018c00361a028c01361a03178c02361a04178c03361a05178c04361a06178c05361a07178c06361a088c078b008b018b028b038b048b058b068b0788fda1898a000022361a01178c008b0088fde5898a0000224702361a0122558c00361a0222558c01361a0322558c028b008b018b0288fe74898a00002249361a0122558c00361a0222558c018b008b0188febc898a000088ff07898a000022361a01178c008b0088ff0d898a00002a361a018c008b0088ff16898a000088ff2e89 // 0x08200400200108260302303102303200311b22124000fd361a00800483412591124000e1361a008004df7130ca124000c5361a0080043b917ca1124000a9361a0080049b7c8a2e1240008d361a008004b3d1502912400071361a0080048e4bf49512400055361a0080041ff5d9c012400039361a008004d30991b51240001d361a00800442a2a81412400001003119221231182213104488056024433119221231182213104488054224433119221231182213104488052324433119221231182213104488050d2443311922123118221310448804e32443311922123118221310448804af2443311922123118221310448804902443311922123118221310448804372443311922123118221310448804212443311922124000243119241240001331198104124000010031182213448801d2244331182213448801be244331182212448801a824438a0300b124b2108bfdb2078bfeb2088bffb201b3898a01008bff8178af67898a02008bfe8bff8178af66898a03018bfd648bfe8bff58898a04018bfc8bfd628bfe8bff58898a03018bfd8bfe8bff88ffda17898a04018bfc8bfd8bfe8bff88ffd617898a04008bfc8bff8800968bfd8bfd228bfe88ffb48bfc508bfd8bfe8bff0881788bfe8bff080988ff9f5067898a05008bfc8bff88006a8bfb8bfd8bfb8bfd228bfe88ff908bfc508bfb8bfd8bfe8bff0881788bfe8bff080988ff795066898a04008bfc8bff8800208bfd8bfe8bff88ff8f898a05008bfb8bfc8bff88000a8bfd8bfe8bff88ffa5898a02018bfe16258bff098bff58898a0000310032091244898a02008bfe158bff1244898a01008bff32070d44898a01008bff32070c44898a0000320d221244898a0000310028222388fef51244898a0000310028222388fee712310028232388fede121144898a00002981602588feea88ffb0898a00002981602588fedc88ffac898a0100298168810288fecd8bff1244898a02008bff220d41001e8bfe28222588fec4220d448bfe2881702588feaa8bff0b81640a2288fe5b898a00002888fe682988fe64898a000031002888fe64898a000088ff37898a000088ff6228222388fe5c320a60320a78092288fe26898a080088ff188bf828222388fe7a8bf928232388fe728bfa2981602588fec78bfb29816a810288febd8bfc29816c810288feb38bfd29816e810288fea98bfe298170810288fe9f8bff5702002881402388fe35898a010088ff1c88feea8bff220d4431162408380031001244311624083810241244311624083807320a12443116240838088bff1244310028232388fdbf1240001a2881602588fdce8bff81040b81640a082881602588fe3a4200172881682588fdb48bff81040b81640a082881682588fe202881682588fd9d8bff29816a810288fd930b81640a082881682588fe032881702588fd808bff082881702588fdf23100310028222588fd7a8bff0828222588fdf3898a030088fe5088fe732288fe7d8bfdc01c29816c810288fd4988fe7e8bfec01c29816e810288fd3a88fe6f8bffc01c298170810288fd2b88fe608bfdc01c29222388fd3c8bfec01c29232388fd328bffc01c2981402388fd2724298168810288fd7c898a020088fded88fe102488fe1a8bfec01c28222388fcce12448bffc01c28232388fcc2124428222388fcba2881602588fccd2288fc8428232388fca92881682588fcbc2288fc738102298168810288fd2a898a000088fd8d810288fdca8103298168810288fd14898a010088fd8588fd9a8bff88fd528bff2981602588fcfc898a010088fd6d88fd828bff5702002388fd2b8bff5702002881402388fc7f898a000024438a000088fdd3898a00002a492247042a361a018c00361a028c01361a03178c02361a04178c03361a05178c04361a06178c05361a07178c06361a088c078b008b018b028b038b048b058b068b0788fda1898a000022361a01178c008b0088fde5898a0000224702361a0122558c00361a0222558c01361a0322558c028b008b018b0288fe74898a00002249361a0122558c00361a0222558c018b008b0188febc898a000088ff07898a000022361a01178c008b0088ff0d898a00002a361a018c008b0088ff16898a000088ff2e89
frame_bury 0
retsub

// game_clear_program
gameclearprogram_7:
proto 0 1
pushbytes 0x08810043 // 0x08810043
retsub

// assert_is_payment_made
assertispaymentmade_8:
proto 0 0
txn GroupIndex
intc_1 // 1
+
gtxns Sender
txn Sender
==
assert
txn GroupIndex
intc_1 // 1
+
gtxns TypeEnum
intc_1 // pay
==
assert
txn GroupIndex
intc_1 // 1
+
gtxns Receiver
global CurrentApplicationAddress
==
assert
txn GroupIndex
intc_1 // 1
+
gtxns Amount
pushint 2000000 // 2000000
==
assert
retsub

// assert_is_valid_percentages
assertisvalidpercentages_9:
proto 4 0
intc_2 // 4
frame_dig -4
+
frame_dig -3
+
frame_dig -2
+
frame_dig -1
+
pushint 100 // 100
==
assert
retsub

// update
update_10:
proto 0 0
callsub assertiscreator_3
retsub

// clean
clean_11:
proto 0 0
callsub assertiscreator_3
global CreatorAddress
global CurrentApplicationAddress
balance
global CurrentApplicationAddress
min_balance
-
intc_0 // 0
callsub executepayment_2
retsub

// update_game
updategame_12:
proto 1 0
callsub assertiscreator_3
frame_dig -1
txnas Applications
callsub gameapprovalprogram_6
callsub gameclearprogram_7
intc_0 // 0
callsub updateapplication_1
retsub

// create_game
creategame_13:
proto 6 0
callsub assertispaymentmade_8
frame_dig -5
frame_dig -4
frame_dig -3
frame_dig -2
callsub assertisvalidpercentages_9
frame_dig -6
callsub assertisfuture_5
frame_dig -1
extract 2 0
pushint 32 // 32
callsub assertisvalidlength_4
callsub gameapprovalprogram_6
callsub gameclearprogram_7
intc_0 // 0
pushint 2 // 2
intc_0 // 0
intc_1 // 1
intc_0 // 0
global MinTxnFee
callsub createapplication_0
itxn CreatedApplicationID
store 0
load 0
app_params_get AppAddress
store 1
pushint 100000 // 100000
global MinTxnFee
callsub executepayment_2
itxn_begin
intc_3 // appl
itxn_field TypeEnum
load 0
itxn_field ApplicationID
pushbytes 0xdf7130ca // "init(address,address,uint64,uint64,uint64,uint64,uint64,byte[])void"
itxn_field ApplicationArgs
global CreatorAddress
itxn_field ApplicationArgs
txn Sender
itxn_field ApplicationArgs
frame_dig -6
itob
itxn_field ApplicationArgs
frame_dig -5
itob
itxn_field ApplicationArgs
frame_dig -4
itob
itxn_field ApplicationArgs
frame_dig -3
itob
itxn_field ApplicationArgs
frame_dig -2
itob
itxn_field ApplicationArgs
frame_dig -1
itxn_field ApplicationArgs
itxn_submit
retsub

// clean_caster
cleancaster_14:
proto 0 0
callsub clean_11
retsub

// update_game_caster
updategamecaster_15:
proto 0 0
intc_0 // 0
txna ApplicationArgs 1
intc_0 // 0
getbyte
frame_bury 0
frame_dig 0
callsub updategame_12
retsub

// create_game_caster
creategamecaster_16:
proto 0 0
intc_0 // 0
dupn 4
bytec_0 // ""
txna ApplicationArgs 1
btoi
frame_bury 0
txna ApplicationArgs 2
btoi
frame_bury 1
txna ApplicationArgs 3
btoi
frame_bury 2
txna ApplicationArgs 4
btoi
frame_bury 3
txna ApplicationArgs 5
btoi
frame_bury 4
txna ApplicationArgs 6
frame_bury 5
frame_dig 0
frame_dig 1
frame_dig 2
frame_dig 3
frame_dig 4
frame_dig 5
callsub creategame_13
retsub