#pragma version 8
intcblock 0 1 4 6
bytecblock 0x
txn NumAppArgs
intc_0 // 0
==
bnz main_l8
txna ApplicationArgs 0
pushbytes 0x83412591 // "clean()void"
==
bnz main_l7
txna ApplicationArgs 0
pushbytes 0x06c20e30 // "update_game(application)void"
==
bnz main_l6
txna ApplicationArgs 0
pushbytes 0xa0a4f25d // "create_game(uint64,uint64,uint64,byte[],byte[],byte[],byte[])void"
==
bnz main_l5
err
main_l5:
txn OnCompletion
intc_0 // NoOp
==
txn ApplicationID
intc_0 // 0
!=
&&
assert
callsub creategamecaster_16
intc_1 // 1
return
main_l6:
txn OnCompletion
intc_0 // NoOp
==
txn ApplicationID
intc_0 // 0
!=
&&
assert
callsub updategamecaster_15
intc_1 // 1
return
main_l7:
txn OnCompletion
intc_0 // NoOp
==
txn ApplicationID
intc_0 // 0
!=
&&
assert
callsub cleancaster_14
intc_1 // 1
return
main_l8:
txn OnCompletion
intc_0 // NoOp
==
bnz main_l12
txn OnCompletion
intc_2 // UpdateApplication
==
bnz main_l11
err
main_l11:
txn ApplicationID
intc_0 // 0
!=
assert
callsub update_10
intc_1 // 1
return
main_l12:
txn ApplicationID
intc_0 // 0
==
assert
intc_1 // 1
return

// create_application
createapplication_0:
proto 8 0
itxn_begin
intc_3 // appl
itxn_field TypeEnum
intc_0 // NoOp
itxn_field OnCompletion
frame_dig -8
itxn_field ApprovalProgram
frame_dig -7
itxn_field ClearStateProgram
frame_dig -6
itxn_field GlobalNumUint
frame_dig -5
itxn_field GlobalNumByteSlice
frame_dig -4
itxn_field LocalNumUint
frame_dig -3
itxn_field LocalNumByteSlice
frame_dig -2
itxn_field ExtraProgramPages
frame_dig -1
itxn_field Fee
itxn_submit
retsub

// update_application
updateapplication_1:
proto 4 0
itxn_begin
intc_3 // appl
itxn_field TypeEnum
intc_2 // UpdateApplication
itxn_field OnCompletion
frame_dig -4
itxn_field ApplicationID
frame_dig -3
itxn_field ApprovalProgram
frame_dig -2
itxn_field ClearStateProgram
frame_dig -1
itxn_field Fee
itxn_submit
retsub

// execute_payment
executepayment_2:
proto 3 0
itxn_begin
intc_1 // pay
itxn_field TypeEnum
frame_dig -3
itxn_field Receiver
frame_dig -2
itxn_field Amount
frame_dig -1
itxn_field Fee
itxn_submit
retsub

// assert_is_creator
assertiscreator_3:
proto 0 0
txn Sender
global CreatorAddress
==
assert
retsub

// assert_is_valid_length
assertisvalidlength_4:
proto 2 0
frame_dig -2
len
frame_dig -1
==
assert
retsub

// assert_is_future
assertisfuture_5:
proto 1 0
frame_dig -1
global LatestTimestamp
>
assert
retsub

// game_approval_program
gameapprovalprogram_6:
proto 0 1
bytec_0 // ""
dup
intc_0 // 0
dupn 2
bytec_0 // ""
dupn 3
intc_0 // 0
dupn 5
bytec_0 // ""
pushbytes 0x08200400080120260302303102303200311b2212400119361a00800483412591124000fd361a00800427ad968b124000e1361a0080048a2db69d124000c5361a00800440608602124000a9361a008004b3d150291240008d361a0080048e4bf49512400071361a008004b7355fd112400055361a0080041ff5d9c012400039361a008004d30991b51240001d361a00800442a2a81412400001003119221231182213104488068f24433119221231182213104488067124433119221231182213104488065224433119221231182213104488063c2443311922123118221310448806262443311922123118221310448805fc2443311922123118221310448805dd2443311922123118221310448805b524433119221231182213104488055524433119221231182213104488053f2443311922124000243119241240001331198104124000010031182213448801b8244331182213448801a42443311822124488018e24438a0300b124b2108bfdb2078bfeb2088bffb201b3898a01008bff8178af67898a02008bfe8bff8178af66898a03018bfd648bfe8bff58898a04018bfc8bfd628bfe8bff58898a03018bfd8bfe8bff88ffda17898a04018bfc8bfd8bfe8bff88ffd617898a04008bfc8bff8800968bfd8bfd228bfe88ffb48bfc508bfd8bfe8bff0881788bfe8bff080988ff9f5067898a05008bfc8bff88006a8bfb8bfd8bfb8bfd228bfe88ff908bfc508bfb8bfd8bfe8bff0881788bfe8bff080988ff795066898a04008bfc8bff8800208bfd8bfe8bff88ff8f898a05008bfb8bfc8bff88000a8bfd8bfe8bff88ffa5898a02018bfe16238bff098bff58898a0000310032091244898a02008bfe158bff1244898a01008bff32070d44898a01008bff32070c44898a0000320d221244898a0000310028222588fef51244898a0000310028222588fee712310028252588fede121144898a00002981602388feea88ffb0898a00002981602388fedc88ffac898a0100298168810288fecd8bff1244898a01008bff220d448bff81030e44898a00002888fe822988fe7e898a000031002888fe7e898a000088ff51898a000088ff7c28222588fe76320a60320a78092288fe40898a090088ff328bf728222588fe948bf828252588fe8c8bf92981602388fee18bfa29816a810288fed78bfb29816c810288fecd8bfc5702002881402588fe638bfd5702002922811888fe578bfe570200298118811888fe4a8bff570200298130811888fe3d898a020088ff248bfe88ff4b88feed8bff220d4431162408380031001244311624083810241244311624083807320a12443116240838088bff1244310028252588fdc2124000e82881602388fdd18bff81040b81640a082881602388fe3d2881682388fdba8bff29816a810288fdb00b81640a082881682388fe202881702388fd9d8bff082881702388fe0f310031002881182388fd968bff082881182388fe0e8bfe24124000608bfe8102124000318bfe8103124100912981582388fd608bff082981582388fdd2310031002881102388fd598bff082881102388fdd14200682981502388fd378bff082981502388fda93100310028232388fd318bff0828232388fdaa4200412981482388fd108bff082981482388fd823100310028222388fd0a8bff0828222388fd8342001a2881682388fce98bff81040b81640a082881682388fd5542ff15898a010088fdc388fde62288fdf08bff88fdfb8bff29816e810288fd3524298168810288fd2c898a020088fd9d88fdc02488fdca8bfec01c28222588fc7e12448bffc01c28252588fc72124428222588fc6a2881602388fc7d2288fc3428252588fc592881682388fc6c2288fc238102298168810288fcda898a000088fd3d810288fd7a8103298168810288fcc4898a000088fd5b810288fd64310028252388fc4222124431002428252388fcb829816e810288fc20241240007729816e810288fc1381021240003c29816e810288fc0581031241008531002881702388fbf629816c810288fbee0b81640a31002881102388fbef0b2981582388fbd90a2288fb8f42005731002881702388fbc829816c810288fbc00b81640a310028232388fbc20b2981502388fbac0a2288fb6242002a31002881702388fb9b29816c810288fb930b81640a310028222388fb950b2981482388fb7f0a2288fb35898a010088fc6788fc7c8bff88fc348bff2981602388fbde898a010088fc4f88fc648bff5702002588fc0d8bff5702002881402588fb61898a000024438a000088fc9b898a00002a492247022a4703361a018c00361a028c01361a03178c02361a04178c03361a05178c04361a068c05361a078c06361a088c07361a098c088b008b018b028b038b048b058b068b078b0888fc62898a00002249361a01178c00361a02178c018b008b0188fcaf898a000022361a01178c008b0088fde8898a00002249361a0122558c00361a0222558c018b008b0188fdf3898a000088fe3e898a000088fe4d898a000022361a01178c008b0088ff0b898a00002a361a018c008b0088ff14898a000088ff2c89 // 0x08200400080120260302303102303200311b2212400119361a00800483412591124000fd361a00800427ad968b124000e1361a0080048a2db69d124000c5361a00800440608602124000a9361a008004b3d150291240008d361a0080048e4bf49512400071361a008004b7355fd112400055361a0080041ff5d9c012400039361a008004d30991b51240001d361a00800442a2a81412400001003119221231182213104488068f24433119221231182213104488067124433119221231182213104488065224433119221231182213104488063c2443311922123118221310448806262443311922123118221310448805fc2443311922123118221310448805dd2443311922123118221310448805b524433119221231182213104488055524433119221231182213104488053f2443311922124000243119241240001331198104124000010031182213448801b8244331182213448801a42443311822124488018e24438a0300b124b2108bfdb2078bfeb2088bffb201b3898a01008bff8178af67898a02008bfe8bff8178af66898a03018bfd648bfe8bff58898a04018bfc8bfd628bfe8bff58898a03018bfd8bfe8bff88ffda17898a04018bfc8bfd8bfe8bff88ffd617898a04008bfc8bff8800968bfd8bfd228bfe88ffb48bfc508bfd8bfe8bff0881788bfe8bff080988ff9f5067898a05008bfc8bff88006a8bfb8bfd8bfb8bfd228bfe88ff908bfc508bfb8bfd8bfe8bff0881788bfe8bff080988ff795066898a04008bfc8bff8800208bfd8bfe8bff88ff8f898a05008bfb8bfc8bff88000a8bfd8bfe8bff88ffa5898a02018bfe16238bff098bff58898a0000310032091244898a02008bfe158bff1244898a01008bff32070d44898a01008bff32070c44898a0000320d221244898a0000310028222588fef51244898a0000310028222588fee712310028252588fede121144898a00002981602388feea88ffb0898a00002981602388fedc88ffac898a0100298168810288fecd8bff1244898a01008bff220d448bff81030e44898a00002888fe822988fe7e898a000031002888fe7e898a000088ff51898a000088ff7c28222588fe76320a60320a78092288fe40898a090088ff328bf728222588fe948bf828252588fe8c8bf92981602388fee18bfa29816a810288fed78bfb29816c810288fecd8bfc5702002881402588fe638bfd5702002922811888fe578bfe570200298118811888fe4a8bff570200298130811888fe3d898a020088ff248bfe88ff4b88feed8bff220d4431162408380031001244311624083810241244311624083807320a12443116240838088bff1244310028252588fdc2124000e82881602388fdd18bff81040b81640a082881602388fe3d2881682388fdba8bff29816a810288fdb00b81640a082881682388fe202881702388fd9d8bff082881702388fe0f310031002881182388fd968bff082881182388fe0e8bfe24124000608bfe8102124000318bfe8103124100912981582388fd608bff082981582388fdd2310031002881102388fd598bff082881102388fdd14200682981502388fd378bff082981502388fda93100310028232388fd318bff0828232388fdaa4200412981482388fd108bff082981482388fd823100310028222388fd0a8bff0828222388fd8342001a2881682388fce98bff81040b81640a082881682388fd5542ff15898a010088fdc388fde62288fdf08bff88fdfb8bff29816e810288fd3524298168810288fd2c898a020088fd9d88fdc02488fdca8bfec01c28222588fc7e12448bffc01c28252588fc72124428222588fc6a2881602388fc7d2288fc3428252588fc592881682388fc6c2288fc238102298168810288fcda898a000088fd3d810288fd7a8103298168810288fcc4898a000088fd5b810288fd64310028252388fc4222124431002428252388fcb829816e810288fc20241240007729816e810288fc1381021240003c29816e810288fc0581031241008531002881702388fbf629816c810288fbee0b81640a31002881102388fbef0b2981582388fbd90a2288fb8f42005731002881702388fbc829816c810288fbc00b81640a310028232388fbc20b2981502388fbac0a2288fb6242002a31002881702388fb9b29816c810288fb930b81640a310028222388fb950b2981482388fb7f0a2288fb35898a010088fc6788fc7c8bff88fc348bff2981602388fbde898a010088fc4f88fc648bff5702002588fc0d8bff5702002881402588fb61898a000024438a000088fc9b898a00002a492247022a4703361a018c00361a028c01361a03178c02361a04178c03361a05178c04361a068c05361a078c06361a088c07361a098c088b008b018b028b038b048b058b068b078b0888fc62898a00002249361a01178c00361a02178c018b008b0188fcaf898a000022361a01178c008b0088fde8898a00002249361a0122558c00361a0222558c018b008b0188fdf3898a000088fe3e898a000088fe4d898a000022361a01178c008b0088ff0b898a00002a361a018c008b0088ff14898a000088ff2c89
frame_bury 0
retsub

// game_clear_program
gameclearprogram_7:
proto 0 1
pushbytes 0x08810043 // 0x08810043
retsub

// assert_is_payment_made
assertispaymentmade_8:
proto 0 0
txn GroupIndex
intc_1 // 1
+
gtxns Sender
txn Sender
==
assert
txn GroupIndex
intc_1 // 1
+
gtxns TypeEnum
intc_1 // pay
==
assert
txn GroupIndex
intc_1 // 1
+
gtxns Receiver
global CurrentApplicationAddress
==
assert
txn GroupIndex
intc_1 // 1
+
gtxns Amount
pushint 2000000 // 2000000
==
assert
retsub

// assert_is_valid_percentages
assertisvalidpercentages_9:
proto 2 0
intc_2 // 4
frame_dig -2
+
frame_dig -1
+
pushint 100 // 100
==
assert
retsub

// update
update_10:
proto 0 0
callsub assertiscreator_3
retsub

// clean
clean_11:
proto 0 0
callsub assertiscreator_3
global CreatorAddress
global CurrentApplicationAddress
balance
global CurrentApplicationAddress
min_balance
-
intc_0 // 0
callsub executepayment_2
retsub

// update_game
updategame_12:
proto 1 0
callsub assertiscreator_3
frame_dig -1
txnas Applications
callsub gameapprovalprogram_6
callsub gameclearprogram_7
intc_0 // 0
callsub updateapplication_1
retsub

// create_game
creategame_13:
proto 7 0
callsub assertispaymentmade_8
frame_dig -6
frame_dig -5
callsub assertisvalidpercentages_9
frame_dig -7
callsub assertisfuture_5
frame_dig -4
extract 2 0
pushint 32 // 32
callsub assertisvalidlength_4
frame_dig -3
extract 2 0
pushint 24 // 24
callsub assertisvalidlength_4
frame_dig -2
extract 2 0
pushint 24 // 24
callsub assertisvalidlength_4
frame_dig -1
extract 2 0
pushint 24 // 24
callsub assertisvalidlength_4
callsub gameapprovalprogram_6
callsub gameclearprogram_7
intc_0 // 0
pushint 2 // 2
intc_0 // 0
intc_1 // 1
intc_0 // 0
global MinTxnFee
callsub createapplication_0
itxn CreatedApplicationID
store 0
load 0
app_params_get AppAddress
store 1
pushint 100000 // 100000
global MinTxnFee
callsub executepayment_2
itxn_begin
intc_3 // appl
itxn_field TypeEnum
load 0
itxn_field ApplicationID
pushbytes 0x27ad968b // "init(address,address,uint64,uint64,uint64,byte[],byte[],byte[],byte[])void"
itxn_field ApplicationArgs
global CreatorAddress
itxn_field ApplicationArgs
txn Sender
itxn_field ApplicationArgs
frame_dig -7
itob
itxn_field ApplicationArgs
frame_dig -6
itob
itxn_field ApplicationArgs
frame_dig -5
itob
itxn_field ApplicationArgs
frame_dig -4
itxn_field ApplicationArgs
frame_dig -3
itxn_field ApplicationArgs
frame_dig -2
itxn_field ApplicationArgs
frame_dig -1
itxn_field ApplicationArgs
itxn_submit
retsub

// clean_caster
cleancaster_14:
proto 0 0
callsub clean_11
retsub

// update_game_caster
updategamecaster_15:
proto 0 0
intc_0 // 0
txna ApplicationArgs 1
intc_0 // 0
getbyte
frame_bury 0
frame_dig 0
callsub updategame_12
retsub

// create_game_caster
creategamecaster_16:
proto 0 0
intc_0 // 0
dupn 2
bytec_0 // ""
dupn 3
txna ApplicationArgs 1
btoi
frame_bury 0
txna ApplicationArgs 2
btoi
frame_bury 1
txna ApplicationArgs 3
btoi
frame_bury 2
txna ApplicationArgs 4
frame_bury 3
txna ApplicationArgs 5
frame_bury 4
txna ApplicationArgs 6
frame_bury 5
txna ApplicationArgs 7
frame_bury 6
frame_dig 0
frame_dig 1
frame_dig 2
frame_dig 3
frame_dig 4
frame_dig 5
frame_dig 6
callsub creategame_13
retsub