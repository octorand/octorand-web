<div class="container-fluid">
    <div class="content">
        <div class="row">
            <div class="col">
                <div class="mx-auto text-center">
                    <h1 class="content-title text-secondary mt-0 mb-20">
                        Redeem Stars
                    </h1>
                    <p class="text-muted mx-auto mw-600 mt-0 mb-20">
                        Trade your stars for exciting rewards within the Octorand ecosystem.
                    </p>
                </div>
            </div>
        </div>
        <lib-tags-player [player]="player"></lib-tags-player>
        <div class="row justify-content-center">
            <div class="column col-12 col-md-12 col-lg-8 col-xl-6">
                <div class="card">
                    <h2 class="card-title text-center text-secondary mt-0 mb-20">
                        PRIME SCORE
                    </h2>
                    <p class="text-muted text-center mt-0 mb-20">
                        Spend your stars to boost the scores of your Primes. Higher scores help elevate your Primes
                        rank, giving them greater recognition.
                    </p>
                    <div class="text-center mt-20 mb-0">
                        <p class="text-muted text-center mt-0 mb-20">
                            Select the Prime you want the increase the score of.
                        </p>
                        <div class="info row justify-content-center mt-0 mb-20">
                            <div class="col-auto">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text px-10 text-secondary">Prime Generation</span>
                                    </div>
                                    <div class="input-group-append">
                                        <button class="btn" type="button" (click)="changePrimeGeneration(1)"
                                            [ngClass]="{'btn-primary': inputs.prime_generation == 1}">GEN 1</button>
                                    </div>
                                    <div class="input-group-append">
                                        <button class="btn" type="button" (click)="changePrimeGeneration(2)"
                                            [ngClass]="{'btn-primary': inputs.prime_generation == 2}">GEN 2</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info row justify-content-center mt-0 mb-20">
                            <div class="col-auto">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text px-10 text-secondary">Prime Id</span>
                                    </div>
                                    <input [(ngModel)]="inputs.prime_position" (ngModelChange)="primePositionChanged()"
                                        class="form-control w-100" type="number" placeholder="Id" min="0" step="1">
                                </div>
                            </div>
                        </div>
                        <div *ngIf="prime">
                            <p class="text-muted text-center mt-0 mb-20">
                                Verify the Prime details.
                            </p>
                            <div class="info row justify-content-center mt-0 mb-20">
                                <div class="col-auto">
                                    <lib-tags-chip key="Prime Name">
                                        {{prime.name}}
                                    </lib-tags-chip>
                                </div>
                                <div class="col-auto">
                                    <lib-tags-chip key="Prime Owner">
                                        <span class="mb-0" innerHTML="{{prime.owner | identity | async}}">
                                            {{prime.owner}}
                                        </span>
                                    </lib-tags-chip>
                                </div>
                            </div>
                            <p class="text-muted text-center mt-0 mb-20">
                                Select how many stars to redeem.
                            </p>
                            <div class="info row justify-content-center mt-0 mb-20">
                                <div class="col-auto">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text px-10 text-secondary">Stars to Redeem</span>
                                        </div>
                                        <input [(ngModel)]="inputs.stars" class="form-control w-100" type="number"
                                            placeholder="Hearts" min="1" step="1">
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary" (click)="redeemStars()">
                                Redeem
                            </button>
                            <p *ngIf="inputs.stars" class="text-muted text-center mt-20 mb-0">
                                Redeeming {{inputs.stars}} stars will increase the score of Prime by {{inputs.stars}}
                                points.
                            </p>
                        </div>
                        <div *ngIf="!prime">
                            <p class="text-danger text-center mt-0 mb-20">
                                Not a valid Prime.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-20 mb-20">
            <button class="btn" (click)="backToGames()">
                Back to Games
            </button>
        </div>
    </div>
</div>